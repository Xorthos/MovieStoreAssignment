@model MovieShopAdministration.Models.IndexViewModel
    
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>
<form method="Get" action="~/Movie/FilterMovies" class="col md-12">
    <input type="text" class="form-control" name="SearchToken" value="" />
    <input type="checkbox" name="UseGenre" value="true">Search by genre<br>
    <select class="form-control" name="GenreId">
        @foreach (var item in Model.Genres)
        {
            <option value="@item.Id">@item.Name</option>
        }
    </select>
    <button type="submit" class="btn btn-default">Search</button>
</form>
<table class="table table-striped table-condensed">
<thead>
    <tr>
    <th> Title</th>
    <th>Price</th>
    <th>Year</th>
    <th>Genre</th>
    <th>Cover</th>
    <th>Trailer</th>
    </tr>

</thead> 
    <tbody>
        @foreach (var item in Model.Movies) {
            <tr>
            <td>@item.Title</td>
            <td>@item.Price</td>
            <td>@item.Year</td>
            <td>@item.Genre.Name</td>
            <td><img src="@item.ImgUrl" width="100" height="150" /></td>
            <td><a style="background-color :gray" href="@item.TrailerUrl" target="_blank"  type="button" class="btn btn-default">Trailer</a></td>
            <td>@Html.ActionLink("Edit","Edit", new { movieId= @item.Id})
                @Html.ActionLink("Delete","Delete", new { movieId = @item.Id })
            </td>
            </tr>
        }
    </tbody>   

    </tbody>  
</table>
@Html.ActionLink("Add new Movie", "Create", null, new { @class="btn btn-default preview-add-button"})

